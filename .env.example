# ==========================================
# Sentient Exchange MCP Server Configuration
# x402 Payment Protocol with Multi-Provider Support
# ==========================================

# Network Configuration
NETWORK=devnet
# Options: devnet, mainnet-beta (for Solana)
#          base-sepolia, base (for EVM chains)

# Solana RPC URL (optional - uses public endpoints by default)
# SOLANA_RPC_URL=https://api.devnet.solana.com
# For better performance, use a private RPC:
# SOLANA_RPC_URL=https://your-quicknode-url.com

# Database Configuration
# ==========================================
# SQLite (Local Development):
DATABASE_PATH=./data/agentmarket.db
#
# PostgreSQL (Railway Production):
# DATABASE_URL=postgresql://user:password@host:port/database
# Railway automatically sets DATABASE_URL when you add the Postgres addon
# The Database class auto-detects the type:
# - If DATABASE_URL starts with "postgres://", uses PostgreSQL
# - Otherwise, uses SQLite with DATABASE_PATH

# Server Configuration
NODE_ENV=development
LOG_LEVEL=debug

# Production Environment Variables (Railway)
# Set these in Railway dashboard, not in .env file:
# - DATABASE_URL (auto-provided by Railway Postgres addon)
# - API_PORT=8081
# - ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
# - JWT_SECRET=<generate with crypto.randomBytes(64).toString('hex')>

# ==========================================
# PAYMENT CONFIGURATION
# ==========================================

# Payment Mode
# - x402: Use x402 protocol with PayAI facilitator only
# - direct: Use direct Solana blockchain transactions only
# - hybrid: Try x402 first, fallback to direct (RECOMMENDED)
PAYMENT_MODE=hybrid

# PayAI Facilitator URL (for x402 protocol)
FACILITATOR_URL=https://facilitator.payai.network

# Maximum Payment Value (in token base units)
# Example: 100000000 = 100 USDC (6 decimals)
# MAX_PAYMENT_VALUE=100000000

# ==========================================
# WALLET CONFIGURATION (MCP CLIENT ONLY)
# ==========================================

# IMPORTANT: The MCP server does NOT need wallet keys!
# Users configure their wallets in their MCP CLIENT (e.g., Claude Desktop).
#
# Example MCP client configuration (~/.config/claude/config.json):
# {
#   "mcpServers": {
#     "agentmarket": {
#       "command": "node",
#       "args": ["path/to/dist/index.js"],
#       "env": {
#         "SOLANA_PRIVATE_KEY": "your-base58-private-key-here",
#         "NETWORK": "devnet"
#       }
#     }
#   }
# }
#
# To export private key from Phantom:
#  1. Open Phantom wallet
#  2. Settings â†’ Show Private Key
#  3. Copy base58 string
#
# SECURITY: Keys stay in MCP client environment, never transmitted to server!

# ==========================================
# SECURITY CONFIGURATION
# ==========================================

# JWT Secret for authentication tokens
# REQUIRED in production! Use a strong, randomly generated secret.
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
#
# CRITICAL SECURITY REQUIREMENTS:
# - Must be at least 64 characters long (128 recommended)
# - Use cryptographically random values in production
# - Never use the default/example value in production
# - Never commit production secrets to git
# - Rotate regularly (recommended: every 90 days)
# - Store in Railway secrets, not in code
#
# Example production secret (DO NOT USE - for reference only):
# JWT_SECRET=e33d60b1fe7708d84a6174c980f1792c4cb6c37a3392545895371dd483fda4eae95b0d8fb4cd1e46ad8f7e0fb5c7bb740baa820260571c2b68dc6a58148792f6
