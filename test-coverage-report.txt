
> agentmarket-mcp@1.0.0 test
> jest --coverage --coverageReporters=json-summary

FAIL tests/unit/registry.test.ts
  â— Test suite failed to run

    [96mtests/unit/registry.test.ts[0m:[93m299[0m:[93m34[0m - [91merror[0m[90m TS18048: [0m'service.pricing.perRequest' is possibly 'undefined'.

    [7m299[0m         const price = parseFloat(service.pricing.perRequest.replace('$', ''));
    [7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96mtests/unit/registry.test.ts[0m:[93m324[0m:[93m35[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m324[0m         const priceA = parseFloat(results[i].pricing.perRequest.replace('$', ''));
    [7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96mtests/unit/registry.test.ts[0m:[93m325[0m:[93m35[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m325[0m         const priceB = parseFloat(results[i + 1].pricing.perRequest.replace('$', ''));
    [7m   [0m [91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96mtests/unit/registry.test.ts[0m:[93m358[0m:[93m34[0m - [91merror[0m[90m TS18048: [0m'service.pricing.perRequest' is possibly 'undefined'.

    [7m358[0m         const price = parseFloat(service.pricing.perRequest.replace('$', ''));
    [7m   [0m [91m                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

PASS tests/unit/payment/wallet.test.ts (11.63 s)
  â— Console

    console.error
      [INFO] 2025-11-04T13:58:03.406Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:125:27)

    console.error
      [INFO] 2025-11-04T13:58:03.450Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:125:27)

    console.error
      [INFO] 2025-11-04T13:58:03.453Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:125:27)

    console.error
      [INFO] 2025-11-04T13:58:03.458Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:125:7)

    console.error
      [INFO] 2025-11-04T13:58:03.458Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:125:7)

    console.error
      [INFO] 2025-11-04T13:58:03.466Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:125:7)

    console.error
      [INFO] 2025-11-04T13:58:03.467Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:125:7)

    console.error
      [INFO] 2025-11-04T13:58:03.470Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:136:27)

    console.error
      [INFO] 2025-11-04T13:58:03.471Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:136:27)

    console.error
      [INFO] 2025-11-04T13:58:03.472Z Loading existing wallet from: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:68:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:136:27)

    console.error
      [INFO] 2025-11-04T13:58:03.473Z Wallet loaded successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:76:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:136:7)

    console.error
      [INFO] 2025-11-04T13:58:03.473Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:136:7)

    console.error
      [INFO] 2025-11-04T13:58:03.473Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:136:7)

    console.error
      [INFO] 2025-11-04T13:58:03.476Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:147:27)

    console.error
      [INFO] 2025-11-04T13:58:03.477Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:147:27)

    console.error
      [INFO] 2025-11-04T13:58:03.477Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:147:27)

    console.error
      [INFO] 2025-11-04T13:58:03.478Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:147:7)

    console.error
      [INFO] 2025-11-04T13:58:03.478Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:147:7)

    console.error
      [INFO] 2025-11-04T13:58:03.479Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:147:7)

    console.error
      [INFO] 2025-11-04T13:58:03.479Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:147:7)

    console.error
      [INFO] 2025-11-04T13:58:03.481Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:158:27)

    console.error
      [INFO] 2025-11-04T13:58:03.482Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:158:27)

    console.error
      [INFO] 2025-11-04T13:58:03.482Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:158:27)

    console.error
      [INFO] 2025-11-04T13:58:03.483Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:158:7)

    console.error
      [INFO] 2025-11-04T13:58:03.483Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:158:7)

    console.error
      [INFO] 2025-11-04T13:58:03.484Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:158:7)

    console.error
      [INFO] 2025-11-04T13:58:03.484Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:158:7)

    console.error
      [INFO] 2025-11-04T13:58:03.487Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:172:34)

    console.error
      [INFO] 2025-11-04T13:58:03.488Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:172:34)

    console.error
      [INFO] 2025-11-04T13:58:03.489Z Loading existing wallet from: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:68:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:172:34)

    console.error
      [ERROR] 2025-11-04T13:58:03.491Z Error loading/creating wallet: Error: Import failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:170:42)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:96:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:172:7)

    console.error
      [ERROR] 2025-11-04T13:58:03.581Z Failed to initialize WalletManager: Error: Import failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:170:42)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:54:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:172:7)

    console.error
      [INFO] 2025-11-04T13:58:03.701Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:180:34)

    console.error
      [INFO] 2025-11-04T13:58:03.704Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:180:34)

    console.error
      [INFO] 2025-11-04T13:58:03.706Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:180:34)

    console.error
      [ERROR] 2025-11-04T13:58:03.708Z Error loading/creating wallet: Error: Creation failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:178:42)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:96:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:180:7)

    console.error
      [ERROR] 2025-11-04T13:58:03.710Z Failed to initialize WalletManager: Error: Creation failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:178:42)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:54:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:180:7)

    console.error
      [INFO] 2025-11-04T13:58:03.718Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:185:27)

    console.error
      [INFO] 2025-11-04T13:58:03.721Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:185:27)

    console.error
      [INFO] 2025-11-04T13:58:03.722Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:185:27)

    console.error
      [INFO] 2025-11-04T13:58:03.724Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:185:7)

    console.error
      [INFO] 2025-11-04T13:58:03.726Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:185:7)

    console.error
      [INFO] 2025-11-04T13:58:03.727Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:185:7)

    console.error
      [INFO] 2025-11-04T13:58:03.727Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:185:7)

    console.error
      [INFO] 2025-11-04T13:58:03.735Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:27)

    console.error
      [INFO] 2025-11-04T13:58:03.737Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:27)

    console.error
      [INFO] 2025-11-04T13:58:03.739Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:27)

    console.error
      [INFO] 2025-11-04T13:58:03.740Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:7)

    console.error
      [INFO] 2025-11-04T13:58:03.741Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:7)

    console.error
      [INFO] 2025-11-04T13:58:03.742Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:7)

    console.error
      [INFO] 2025-11-04T13:58:03.743Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:7)

    console.error
      [INFO] 2025-11-04T13:58:03.748Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:27)

    console.error
      [INFO] 2025-11-04T13:58:03.750Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:27)

    console.error
      [INFO] 2025-11-04T13:58:03.752Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:27)

    console.error
      [INFO] 2025-11-04T13:58:03.754Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:7)

    console.error
      [INFO] 2025-11-04T13:58:03.755Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:7)

    console.error
      [INFO] 2025-11-04T13:58:03.756Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:7)

    console.error
      [INFO] 2025-11-04T13:58:03.757Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:200:7)

    console.error
      [INFO] 2025-11-04T13:58:03.764Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:27)

    console.error
      [INFO] 2025-11-04T13:58:03.766Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:27)

    console.error
      [INFO] 2025-11-04T13:58:03.767Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:27)

    console.error
      [INFO] 2025-11-04T13:58:03.769Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.770Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.770Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.771Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.775Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:27)

    console.error
      [INFO] 2025-11-04T13:58:03.776Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:27)

    console.error
      [INFO] 2025-11-04T13:58:03.778Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:27)

    console.error
      [INFO] 2025-11-04T13:58:03.779Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.780Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.781Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.782Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [WARN] 2025-11-04T13:58:03.783Z Failed to get usdc balance: Network error

    [0m [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 32 |[39m     [36mif[39m (shouldLog([32m'warn'[39m)) {
    [31m[1m>[22m[39m[90m 33 |[39m       console[33m.[39merror([32m'[WARN]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 34 |[39m     }
     [90m 35 |[39m   }[33m,[39m
     [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.warn (src/utils/logger.ts:33:15)
      at WalletManager.getBalance (src/payment/WalletManager.ts:157:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:235:23)

    console.error
      [INFO] 2025-11-04T13:58:03.787Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:27)

    console.error
      [INFO] 2025-11-04T13:58:03.788Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:27)

    console.error
      [INFO] 2025-11-04T13:58:03.803Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:27)

    console.error
      [INFO] 2025-11-04T13:58:03.804Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.804Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.805Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.805Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:222:7)

    console.error
      [INFO] 2025-11-04T13:58:03.809Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.811Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.811Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.812Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.813Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.813Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.814Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.815Z Requesting faucet funds...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.requestFaucetFunds (src/payment/WalletManager.ts:175:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:255:42)

    console.error
      [INFO] 2025-11-04T13:58:03.816Z Faucet transaction created, waiting for confirmation...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.requestFaucetFunds (src/payment/WalletManager.ts:182:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:255:22)

    console.error
      [INFO] 2025-11-04T13:58:03.817Z Faucet funds received! Transaction: 0xFaucetTxHash

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.requestFaucetFunds (src/payment/WalletManager.ts:188:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:255:22)

    console.error
      [INFO] 2025-11-04T13:58:03.819Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.820Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.820Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.821Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.821Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.822Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.822Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.823Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:265:28)

    console.error
      [INFO] 2025-11-04T13:58:03.824Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:265:28)

    console.error
      [INFO] 2025-11-04T13:58:03.825Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:265:28)

    console.error
      [INFO] 2025-11-04T13:58:03.825Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:265:7)

    console.error
      [INFO] 2025-11-04T13:58:03.826Z Wallet data saved to: ./data/wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:265:7)

    console.error
      [INFO] 2025-11-04T13:58:03.826Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:265:7)

    console.error
      [INFO] 2025-11-04T13:58:03.826Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:265:7)

    console.error
      [INFO] 2025-11-04T13:58:03.829Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.829Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.830Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.830Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.831Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.831Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.832Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.832Z Requesting faucet funds...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.requestFaucetFunds (src/payment/WalletManager.ts:175:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:275:34)

    console.error
      [ERROR] 2025-11-04T13:58:03.833Z Failed to request faucet funds: Error: Faucet unavailable
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:273:44)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.requestFaucetFunds (src/payment/WalletManager.ts:192:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:275:7)

    console.error
      [INFO] 2025-11-04T13:58:03.835Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.836Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.836Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:27)

    console.error
      [INFO] 2025-11-04T13:58:03.837Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.837Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.838Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.838Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:251:7)

    console.error
      [INFO] 2025-11-04T13:58:03.842Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.843Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.843Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.844Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.844Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.845Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.845Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.846Z Transferring 1.5 USDC to 0xRecipient123...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:209:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:296:42)

    console.error
      [INFO] 2025-11-04T13:58:03.846Z Transfer created, waiting for broadcast...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:220:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:296:22)

    console.error
      [INFO] 2025-11-04T13:58:03.847Z Transfer broadcast! Transaction hash: 0xTransferTxHash

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:240:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:296:22)

    console.error
      [INFO] 2025-11-04T13:58:03.847Z Note: Confirmation will complete in background

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:241:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:296:22)

    console.error
      [INFO] 2025-11-04T13:58:03.849Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.850Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.850Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.851Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.851Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.852Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.852Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.853Z Transferring 1.5 USDC to 0xRecipient123...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:209:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:314:27)

    console.error
      [INFO] 2025-11-04T13:58:03.853Z Transfer created, waiting for broadcast...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:220:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:314:7)

    console.error
      [INFO] 2025-11-04T13:58:03.854Z Transfer broadcast! Transaction hash: 0xTransferTxHash

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:240:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:314:7)

    console.error
      [INFO] 2025-11-04T13:58:03.854Z Note: Confirmation will complete in background

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:241:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:314:7)

    console.error
      [INFO] 2025-11-04T13:58:03.855Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.856Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.856Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.857Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.857Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.858Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.858Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.862Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.882Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.883Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.884Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.884Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.884Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.885Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.885Z Transferring 1.5 USDC to 0xRecipient123...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:209:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:331:23)

    console.error
      [ERROR] 2025-11-04T13:58:03.887Z USDC transfer failed: Error: Insufficient funds
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:328:51)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:245:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:330:7)

    console.error
      [INFO] 2025-11-04T13:58:03.889Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.891Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.891Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.892Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.892Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.893Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.893Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.893Z Transferring 0 USDC to 0xRecipient123...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:209:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:336:27)

    console.error
      [INFO] 2025-11-04T13:58:03.894Z Transfer created, waiting for broadcast...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:220:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:336:7)

    console.error
      [INFO] 2025-11-04T13:58:03.894Z Transfer broadcast! Transaction hash: 0xTransferTxHash

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:240:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:336:7)

    console.error
      [INFO] 2025-11-04T13:58:03.895Z Note: Confirmation will complete in background

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:241:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:336:7)

    console.error
      [INFO] 2025-11-04T13:58:03.896Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.897Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.898Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:27)

    console.error
      [INFO] 2025-11-04T13:58:03.898Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.899Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.899Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.899Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:292:7)

    console.error
      [INFO] 2025-11-04T13:58:03.900Z Transferring 999999.999999 USDC to 0xRecipient123...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:209:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:349:27)

    console.error
      [INFO] 2025-11-04T13:58:03.900Z Transfer created, waiting for broadcast...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:220:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:349:7)

    console.error
      [INFO] 2025-11-04T13:58:03.900Z Transfer broadcast! Transaction hash: 0xTransferTxHash

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:240:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:349:7)

    console.error
      [INFO] 2025-11-04T13:58:03.901Z Note: Confirmation will complete in background

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.transferUsdc (src/payment/WalletManager.ts:241:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:349:7)

    console.error
      [INFO] 2025-11-04T13:58:03.903Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:366:27)

    console.error
      [INFO] 2025-11-04T13:58:03.904Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:366:27)

    console.error
      [INFO] 2025-11-04T13:58:03.905Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:366:27)

    console.error
      [INFO] 2025-11-04T13:58:03.905Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:366:7)

    console.error
      [INFO] 2025-11-04T13:58:03.906Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:366:7)

    console.error
      [INFO] 2025-11-04T13:58:03.906Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:366:7)

    console.error
      [INFO] 2025-11-04T13:58:03.906Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:366:7)

    console.error
      [INFO] 2025-11-04T13:58:03.908Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:375:29)

    console.error
      [INFO] 2025-11-04T13:58:03.909Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:375:29)

    console.error
      [INFO] 2025-11-04T13:58:03.909Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:375:29)

    console.error
      [ERROR] 2025-11-04T13:58:03.910Z Error loading/creating wallet: Error: Init failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:372:42)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:96:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:375:9)

    console.error
      [ERROR] 2025-11-04T13:58:03.911Z Failed to initialize WalletManager: Error: Init failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:372:42)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:54:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:375:9)

    console.error
      [INFO] 2025-11-04T13:58:03.913Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:386:27)

    console.error
      [INFO] 2025-11-04T13:58:03.913Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:386:27)

    console.error
      [INFO] 2025-11-04T13:58:03.914Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:386:27)

    console.error
      [INFO] 2025-11-04T13:58:03.915Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:386:7)

    console.error
      [INFO] 2025-11-04T13:58:03.915Z Wallet data saved to: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:124:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:386:7)

    console.error
      [INFO] 2025-11-04T13:58:03.915Z Wallet address: 0xTestAddress123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:93:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:386:7)

    console.error
      [INFO] 2025-11-04T13:58:03.915Z WalletManager initialized successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:52:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:386:7)

    console.error
      [INFO] 2025-11-04T13:58:03.921Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:407:34)

    console.error
      [INFO] 2025-11-04T13:58:03.922Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:407:34)

    console.error
      [INFO] 2025-11-04T13:58:03.923Z Loading existing wallet from: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:68:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:407:34)

    console.error
      [ERROR] 2025-11-04T13:58:03.923Z Error loading/creating wallet: Error: File read error
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:404:15)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:102:19)
          at WalletManager.loadOrCreateWallet (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:71:42)
          at WalletManager.initialize (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:49:18)
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:407:34)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:96:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:407:34)

    console.error
      [ERROR] 2025-11-04T13:58:03.927Z Failed to initialize WalletManager: Error: File read error
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:404:15)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:102:19)
          at WalletManager.loadOrCreateWallet (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:71:42)
          at WalletManager.initialize (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:49:18)
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:407:34)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:54:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:407:7)

    console.error
      [INFO] 2025-11-04T13:58:03.928Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:416:34)

    console.error
      [INFO] 2025-11-04T13:58:03.929Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:416:34)

    console.error
      [INFO] 2025-11-04T13:58:03.930Z No existing wallet found, creating new wallet...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:78:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:416:34)

    console.error
      [INFO] 2025-11-04T13:58:03.930Z New wallet created successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:85:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:416:7)

    console.error
      [ERROR] 2025-11-04T13:58:03.931Z Failed to save wallet data: Error: File write error
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:413:15)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:102:19)
          at WalletManager.saveWalletData (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:122:10)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at WalletManager.loadOrCreateWallet (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:88:9)
          at WalletManager.initialize (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:49:7)
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:416:7)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.saveWalletData (src/payment/WalletManager.ts:126:14)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:88:9)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:416:7)

    console.error
      [ERROR] 2025-11-04T13:58:03.932Z Error loading/creating wallet: Error: File write error
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:413:15)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:102:19)
          at WalletManager.saveWalletData (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:122:10)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at WalletManager.loadOrCreateWallet (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:88:9)
          at WalletManager.initialize (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:49:7)
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:416:7)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:96:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:7)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:416:7)

    console.error
      [ERROR] 2025-11-04T13:58:03.932Z Failed to initialize WalletManager: Error: File write error
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:413:15)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:305:39
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:312:13)
          at Object.mockConstructor (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-mock\build\index.js:102:19)
          at WalletManager.saveWalletData (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:122:10)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at WalletManager.loadOrCreateWallet (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:88:9)
          at WalletManager.initialize (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:49:7)
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:416:7)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:54:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:416:7)

    console.error
      [INFO] 2025-11-04T13:58:03.934Z Configuring Coinbase CDP SDK...

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:38:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:423:34)

    console.error
      [INFO] 2025-11-04T13:58:03.935Z Coinbase SDK configured successfully

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:46:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:423:34)

    console.error
      [INFO] 2025-11-04T13:58:03.935Z Loading existing wallet from: ./data/test-wallet.json

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:68:16)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:423:34)

    console.error
      [ERROR] 2025-11-04T13:58:03.936Z Error loading/creating wallet: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
          at JSON.parse (<anonymous>)
          at WalletManager.loadOrCreateWallet (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:71:33)
          at WalletManager.initialize (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:49:18)
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:423:34)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.loadOrCreateWallet (src/payment/WalletManager.ts:96:14)
      at WalletManager.initialize (src/payment/WalletManager.ts:49:18)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:423:34)

    console.error
      [ERROR] 2025-11-04T13:58:03.938Z Failed to initialize WalletManager: SyntaxError: Unexpected token 'i', "invalid json" is not valid JSON
          at JSON.parse (<anonymous>)
          at WalletManager.loadOrCreateWallet (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:71:33)
          at WalletManager.initialize (C:\Users\johnn\Desktop\agentMarket-mcp\src\payment\WalletManager.ts:49:18)
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\payment\wallet.test.ts:423:34)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at WalletManager.initialize (src/payment/WalletManager.ts:54:14)
      at Object.<anonymous> (tests/unit/payment/wallet.test.ts:423:7)

PASS tests/unit/tools/balance.test.ts (11.668 s)
  â— Console

    console.error
      [ERROR] 2025-11-04T13:58:03.904Z Error in checkWalletBalance: Error: Failed to initialize wallet
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\balance.test.ts:103:54)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at checkWalletBalance (src/tools/balance.ts:45:12)
      at Object.<anonymous> (tests/unit/tools/balance.test.ts:106:22)

    console.error
      [ERROR] 2025-11-04T13:58:03.949Z Error in checkWalletBalance: Error: Cannot retrieve address
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\balance.test.ts:116:54)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at checkWalletBalance (src/tools/balance.ts:45:12)
      at Object.<anonymous> (tests/unit/tools/balance.test.ts:119:22)

    console.error
      [ERROR] 2025-11-04T13:58:03.955Z Error in checkWalletBalance: Error: RPC connection failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\balance.test.ts:130:54)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at checkWalletBalance (src/tools/balance.ts:45:12)
      at Object.<anonymous> (tests/unit/tools/balance.test.ts:133:22)

PASS tests/unit/tools/transaction.test.ts (12.087 s)
  â— Console

    console.error
      [ERROR] 2025-11-04T13:58:04.288Z Error in getTransaction: Error: Database connection lost
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\transaction.test.ts:181:36)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at getTransaction (src/tools/transaction.ts:94:12)
      at Object.<anonymous> (tests/unit/tools/transaction.test.ts:184:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.352Z Error in getTransaction: SyntaxError: Unexpected token 'i', "invalid-json{{{" is not valid JSON
          at JSON.parse (<anonymous>)
          at getTransaction (C:\Users\johnn\Desktop\agentMarket-mcp\src\tools\transaction.ts:78:43)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\transaction.test.ts:209:22)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at getTransaction (src/tools/transaction.ts:94:12)
      at Object.<anonymous> (tests/unit/tools/transaction.test.ts:209:22)

PASS tests/unit/tools/list.test.ts (12.069 s)
  â— Console

    console.error
      [ERROR] 2025-11-04T13:58:04.295Z Error in listAllServices: Error: Database connection lost
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\list.test.ts:187:53)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at listAllServices (src/tools/list.ts:79:12)
      at Object.<anonymous> (tests/unit/tools/list.test.ts:190:22)

PASS tests/unit/tools/rate.test.ts (12.097 s)
  â— Console

    console.error
      [ERROR] 2025-11-04T13:58:04.305Z Error in rateService: Error: Database connection lost
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\rate.test.ts:307:36)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at rateService (src/tools/rate.ts:118:12)
      at Object.<anonymous> (tests/unit/tools/rate.test.ts:310:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.368Z Error in rateService: Error: Insert failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\rate.test.ts:323:36)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at rateService (src/tools/rate.ts:118:12)
      at Object.<anonymous> (tests/unit/tools/rate.test.ts:326:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.371Z Error in rateService: Error: Reputation update failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\rate.test.ts:340:55)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at rateService (src/tools/rate.ts:118:12)
      at Object.<anonymous> (tests/unit/tools/rate.test.ts:343:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.372Z Error in rateService: Error: Service lookup failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\rate.test.ts:358:49)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at rateService (src/tools/rate.ts:118:12)
      at Object.<anonymous> (tests/unit/tools/rate.test.ts:361:22)

FAIL tests/unit/tools/purchase.test.ts
  â— Test suite failed to run

    [96mtests/unit/tools/purchase.test.ts[0m:[93m82[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m 82[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m 83[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m...[0m 
    [7m 85[0m         maxPayment: '$0.05'
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m 86[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m129[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m129[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m130[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m131[0m         data: { prompt: 'Analyze this image' }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m132[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m167[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m167[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m168[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m169[0m         data: complexData
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m170[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m196[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m196[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m197[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m198[0m         data: { test: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m199[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m219[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m219[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m220[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m221[0m         data: { test: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m222[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m237[0m:[93m70[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m237[0m       await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                     ~[0m
    [7m238[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m239[0m         data: { test: 'data' }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m240[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m268[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m268[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m269[0m         serviceId: 'nonexistent',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m270[0m         data: { test: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m271[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m287[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m287[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m288[0m         serviceId: 'undefined-service',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m289[0m         data: { test: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m290[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m301[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m301[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m302[0m         data: { test: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m303[0m       } as any);
    [7m   [0m [91m~~~~~~~~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m313[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m313[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m314[0m         serviceId: 'service-123'
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m315[0m       } as any);
    [7m   [0m [91m~~~~~~~~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m325[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m325[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m326[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m...[0m 
    [7m328[0m         maxPayment: '0.50' // Missing $
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m329[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m344[0m:[93m70[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m344[0m       await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                     ~[0m
    [7m345[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m...[0m 
    [7m347[0m         maxPayment: '$1.00'
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m348[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m350[0m:[93m70[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m350[0m       await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                     ~[0m
    [7m351[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m...[0m 
    [7m353[0m         maxPayment: '$0.50'
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m354[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m356[0m:[93m70[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m356[0m       await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                     ~[0m
    [7m357[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m...[0m 
    [7m359[0m         maxPayment: '$10.99'
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m360[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m372[0m:[93m70[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m372[0m       await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                     ~[0m
    [7m373[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m374[0m         data: { key1: 'value1', key2: 123, key3: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m375[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m388[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m388[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m389[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m390[0m         data: { test: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m391[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m404[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m404[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m405[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m406[0m         data: { test: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m407[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m422[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m422[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m423[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m424[0m         data: { test: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m425[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m438[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m438[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m439[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m440[0m         data: { test: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m441[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mtests/unit/tools/purchase.test.ts[0m:[93m454[0m:[93m85[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 4.

    [7m454[0m       const result = await purchaseService(mockRegistry, mockPaymentClient, mockDb, {
    [7m   [0m [91m                                                                                    ~[0m
    [7m455[0m         serviceId: 'service-123',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m456[0m         data: { test: true }
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m457[0m       });
    [7m   [0m [91m~~~~~~~[0m

PASS tests/unit/tools/details.test.ts (12.103 s)
  â— Console

    console.error
      [ERROR] 2025-11-04T13:58:04.357Z Error in getServiceDetails: Error: Database query failed
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\details.test.ts:133:49)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at getServiceDetails (src/tools/details.ts:75:12)
      at Object.<anonymous> (tests/unit/tools/details.test.ts:136:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.393Z Error in getServiceDetails: Error: Connection timeout
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\details.test.ts:145:49)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at getServiceDetails (src/tools/details.ts:75:12)
      at Object.<anonymous> (tests/unit/tools/details.test.ts:148:22)

PASS tests/unit/payment/x402.test.ts (12.22 s)
  â— Console

    console.error
      [INFO] 2025-11-04T13:58:04.443Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:92:22)

    console.error
      [INFO] 2025-11-04T13:58:04.464Z [x402] Received status: 402

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:92:22)

    console.error
      [INFO] 2025-11-04T13:58:04.465Z [x402] Step 2: Processing 402 Payment Required response

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:92:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:92:22)

    console.error
      [INFO] 2025-11-04T13:58:04.465Z [x402] Payment required: 1.000000 USDC to 0xRecipient123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:112:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:92:22)

    console.error
      [INFO] 2025-11-04T13:58:04.466Z [x402] Price 1 USDC is acceptable (max: 5 USDC)

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:127:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:92:22)

    console.error
      [INFO] 2025-11-04T13:58:04.466Z [x402] Step 3: Executing USDC payment on blockchain

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:132:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:92:22)

    console.error
      [INFO] 2025-11-04T13:58:04.466Z [x402] Payment completed. Transaction hash: 0xTransactionHash123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:140:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:92:22)

    console.error
      [INFO] 2025-11-04T13:58:04.466Z [x402] Step 4: Retrying request with payment proof

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:145:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:92:22)

    console.error
      [INFO] 2025-11-04T13:58:04.466Z [x402] Request completed successfully in 0ms

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:178:18)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:92:22)

    console.error
      [INFO] 2025-11-04T13:58:04.469Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:125:22)

    console.error
      [INFO] 2025-11-04T13:58:04.469Z [x402] Received status: 402

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:125:22)

    console.error
      [INFO] 2025-11-04T13:58:04.469Z [x402] Step 2: Processing 402 Payment Required response

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:92:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:125:22)

    console.error
      [INFO] 2025-11-04T13:58:04.469Z [x402] Payment required: 10.000000 USDC to 0xRecipient123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:112:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:125:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.469Z [x402] Price 10 USDC exceeds maximum 5 USDC

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at X402Client.makePayment (src/payment/X402Client.ts:123:18)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:125:22)

    console.error
      [INFO] 2025-11-04T13:58:04.472Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:148:22)

    console.error
      [INFO] 2025-11-04T13:58:04.472Z [x402] Received status: 200

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:148:22)

    console.error
      [INFO] 2025-11-04T13:58:04.472Z [x402] Service returned 200 OK - no payment required

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:190:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:148:22)

    console.error
      [INFO] 2025-11-04T13:58:04.474Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:165:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.474Z [x402] Transaction failed: Network timeout

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at X402Client.makePayment (src/payment/X402Client.ts:217:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:165:22)

    console.error
      [INFO] 2025-11-04T13:58:04.476Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:198:7)

    console.error
      [INFO] 2025-11-04T13:58:04.476Z [x402] Received status: 402

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:198:7)

    console.error
      [INFO] 2025-11-04T13:58:04.476Z [x402] Step 2: Processing 402 Payment Required response

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:92:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:198:7)

    console.error
      [INFO] 2025-11-04T13:58:04.477Z [x402] Payment required: 1.000000 USDC to 0xRecipient123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:112:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:198:7)

    console.error
      [INFO] 2025-11-04T13:58:04.477Z [x402] Price 1 USDC is acceptable (max: 5 USDC)

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:127:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:198:7)

    console.error
      [INFO] 2025-11-04T13:58:04.477Z [x402] Step 3: Executing USDC payment on blockchain

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:132:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:198:7)

    console.error
      [INFO] 2025-11-04T13:58:04.477Z [x402] Payment completed. Transaction hash: 0xTransactionHash123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:140:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:198:7)

    console.error
      [INFO] 2025-11-04T13:58:04.477Z [x402] Step 4: Retrying request with payment proof

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:145:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:198:7)

    console.error
      [INFO] 2025-11-04T13:58:04.477Z [x402] Request completed successfully in 0ms

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:178:18)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:198:7)

    console.error
      [INFO] 2025-11-04T13:58:04.480Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:227:22)

    console.error
      [INFO] 2025-11-04T13:58:04.480Z [x402] Received status: 402

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:227:22)

    console.error
      [INFO] 2025-11-04T13:58:04.480Z [x402] Step 2: Processing 402 Payment Required response

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:92:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:227:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.480Z [x402] Transaction failed: Invalid 402 response: no payment methods accepted

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at X402Client.makePayment (src/payment/X402Client.ts:217:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:227:22)

    console.error
      [INFO] 2025-11-04T13:58:04.482Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:256:22)

    console.error
      [INFO] 2025-11-04T13:58:04.482Z [x402] Received status: 402

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:256:22)

    console.error
      [INFO] 2025-11-04T13:58:04.482Z [x402] Step 2: Processing 402 Payment Required response

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:92:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:256:22)

    console.error
      [INFO] 2025-11-04T13:58:04.482Z [x402] Payment required: 1.000000 USDC to 0xRecipient123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:112:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:256:22)

    console.error
      [INFO] 2025-11-04T13:58:04.482Z [x402] Price 1 USDC is acceptable (max: 5 USDC)

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:127:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:256:22)

    console.error
      [INFO] 2025-11-04T13:58:04.482Z [x402] Step 3: Executing USDC payment on blockchain

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:132:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:256:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.483Z [x402] Transaction failed: Insufficient funds

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at X402Client.makePayment (src/payment/X402Client.ts:217:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:256:22)

    console.error
      [INFO] 2025-11-04T13:58:04.484Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:284:22)

    console.error
      [INFO] 2025-11-04T13:58:04.484Z [x402] Received status: 402

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:284:22)

    console.error
      [INFO] 2025-11-04T13:58:04.485Z [x402] Step 2: Processing 402 Payment Required response

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:92:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:284:22)

    console.error
      [INFO] 2025-11-04T13:58:04.485Z [x402] Payment required: 1.000000 USDC to 0xRecipient123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:112:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:284:22)

    console.error
      [INFO] 2025-11-04T13:58:04.485Z [x402] Price 1 USDC is acceptable (max: 5 USDC)

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:127:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:284:22)

    console.error
      [INFO] 2025-11-04T13:58:04.485Z [x402] Step 3: Executing USDC payment on blockchain

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:132:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:284:22)

    console.error
      [INFO] 2025-11-04T13:58:04.485Z [x402] Payment completed. Transaction hash: 0xTransactionHash123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:140:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:284:22)

    console.error
      [INFO] 2025-11-04T13:58:04.485Z [x402] Step 4: Retrying request with payment proof

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:145:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:284:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.491Z [x402] Transaction failed: Service unavailable

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at X402Client.makePayment (src/payment/X402Client.ts:217:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:284:22)

    console.error
      [INFO] 2025-11-04T13:58:04.493Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:305:7)

    console.error
      [INFO] 2025-11-04T13:58:04.493Z [x402] Received status: 200

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:305:7)

    console.error
      [INFO] 2025-11-04T13:58:04.493Z [x402] Service returned 200 OK - no payment required

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:190:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:305:7)

    console.error
      [INFO] 2025-11-04T13:58:04.495Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:354:7)

    console.error
      [INFO] 2025-11-04T13:58:04.495Z [x402] Received status: 402

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:354:7)

    console.error
      [INFO] 2025-11-04T13:58:04.495Z [x402] Step 2: Processing 402 Payment Required response

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:92:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:354:7)

    console.error
      [INFO] 2025-11-04T13:58:04.495Z [x402] Payment required: 1.000000 USDC to 0xRecipient123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:112:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:354:7)

    console.error
      [INFO] 2025-11-04T13:58:04.495Z [x402] Price 1 USDC is acceptable (max: 5 USDC)

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:127:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:354:7)

    console.error
      [INFO] 2025-11-04T13:58:04.496Z [x402] Step 3: Executing USDC payment on blockchain

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:132:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:354:7)

    console.error
      [INFO] 2025-11-04T13:58:04.496Z [x402] Payment completed. Transaction hash: 0xTransactionHash123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:140:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:354:7)

    console.error
      [INFO] 2025-11-04T13:58:04.496Z [x402] Step 4: Retrying request with payment proof

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:145:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:354:7)

    console.error
      [INFO] 2025-11-04T13:58:04.496Z [x402] Request completed successfully in 0ms

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:178:18)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:354:7)

    console.error
      [INFO] 2025-11-04T13:58:04.500Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:456:22)

    console.error
      [INFO] 2025-11-04T13:58:04.501Z [x402] Received status: 402

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:456:22)

    console.error
      [INFO] 2025-11-04T13:58:04.501Z [x402] Step 2: Processing 402 Payment Required response

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:92:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:456:22)

    console.error
      [INFO] 2025-11-04T13:58:04.501Z [x402] Payment required: 0.000000 USDC to 0xRecipient123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:112:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:456:22)

    console.error
      [INFO] 2025-11-04T13:58:04.501Z [x402] Price 0 USDC is acceptable (max: 5 USDC)

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:127:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:456:22)

    console.error
      [INFO] 2025-11-04T13:58:04.501Z [x402] Step 3: Executing USDC payment on blockchain

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:132:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:456:22)

    console.error
      [INFO] 2025-11-04T13:58:04.501Z [x402] Payment completed. Transaction hash: 0xTransactionHash123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:140:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:456:22)

    console.error
      [INFO] 2025-11-04T13:58:04.501Z [x402] Step 4: Retrying request with payment proof

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:145:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:456:22)

    console.error
      [INFO] 2025-11-04T13:58:04.501Z [x402] Request completed successfully in 0ms

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:178:18)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:456:22)

    console.error
      [INFO] 2025-11-04T13:58:04.503Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:485:22)

    console.error
      [INFO] 2025-11-04T13:58:04.503Z [x402] Received status: 402

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:485:22)

    console.error
      [INFO] 2025-11-04T13:58:04.503Z [x402] Step 2: Processing 402 Payment Required response

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:92:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:485:22)

    console.error
      [INFO] 2025-11-04T13:58:04.503Z [x402] Payment required: 999999.999999 USDC to 0xRecipient123

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:112:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:485:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.503Z [x402] Price 999999.999999 USDC exceeds maximum 5 USDC

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at X402Client.makePayment (src/payment/X402Client.ts:123:18)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:485:22)

    console.error
      [INFO] 2025-11-04T13:58:04.504Z [x402] Step 1: Making initial request to https://api.example.com/service

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:75:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:506:7)

    console.error
      [INFO] 2025-11-04T13:58:04.505Z [x402] Received status: 200

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:86:14)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:506:7)

    console.error
      [INFO] 2025-11-04T13:58:04.505Z [x402] Service returned 200 OK - no payment required

    [0m [90m 26 |[39m   info[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 27 |[39m     [36mif[39m (shouldLog([32m'info'[39m)) {
    [31m[1m>[22m[39m[90m 28 |[39m       console[33m.[39merror([32m'[INFO]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 29 |[39m     }
     [90m 30 |[39m   }[33m,[39m
     [90m 31 |[39m   warn[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {[0m

      at Object.info (src/utils/logger.ts:28:15)
      at X402Client.makePayment (src/payment/X402Client.ts:190:16)
      at Object.<anonymous> (tests/unit/payment/x402.test.ts:506:7)

PASS tests/unit/tools/discover.test.ts (12.238 s)
  â— Console

    console.error
      [ERROR] 2025-11-04T13:58:04.482Z Error in discoverServices: Error: Database connection lost
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\discover.test.ts:309:53)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at discoverServices (src/tools/discover.ts:101:12)
      at Object.<anonymous> (tests/unit/tools/discover.test.ts:312:22)

    console.error
      [ERROR] 2025-11-04T13:58:04.521Z Error in discoverServices: Error: Unexpected server error
          at Object.<anonymous> (C:\Users\johnn\Desktop\agentMarket-mcp\tests\unit\tools\discover.test.ts:321:53)
          at Promise.finally.completed (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
          at _callCircusTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1007:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:947:3)
          at C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:849:7
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at _runTestsForDescribeBlock (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
          at run (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
          at runAndTransformResultsToJestFormat (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
          at jestAdapter (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-circus\build\runner.js:101:19)
          at runTestInternal (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:275:16)
          at runTest (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:343:7)
          at Object.worker (C:\Users\johnn\Desktop\agentMarket-mcp\node_modules\jest-runner\build\testWorker.js:497:12)

    [0m [90m 36 |[39m   error[33m:[39m ([33m...[39margs[33m:[39m any[]) [33m=>[39m {
     [90m 37 |[39m     [36mif[39m (shouldLog([32m'error'[39m)) {
    [31m[1m>[22m[39m[90m 38 |[39m       console[33m.[39merror([32m'[ERROR]'[39m[33m,[39m [36mnew[39m [33mDate[39m()[33m.[39mtoISOString()[33m,[39m [33m...[39margs)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 39 |[39m     }
     [90m 40 |[39m   }[33m,[39m
     [90m 41 |[39m }[33m;[39m[0m

      at Object.error (src/utils/logger.ts:38:15)
      at discoverServices (src/tools/discover.ts:101:12)
      at Object.<anonymous> (tests/unit/tools/discover.test.ts:324:22)

PASS tests/unit/auth/jwt.test.ts (12.428 s)
PASS tests/unit/auth/siwe.test.ts (12.756 s)
FAIL tests/integration/api-server.test.ts
  â— Test suite failed to run

    Cannot find module '../utils/logger.js' from 'src/registry/database.ts'

    Require stack:
      src/registry/database.ts
      tests/integration/api-server.test.ts

    [0m[31m[1m>[22m[39m[90m 1 |[39m [36mimport[39m { logger } [36mfrom[39m [32m'../utils/logger.js'[39m[33m;[39m
     [90m   |[39m [31m[1m^[22m[39m
     [90m 2 |[39m [36mimport[39m sqlite3 [36mfrom[39m [32m'sqlite3'[39m[33m;[39m
     [90m 3 |[39m [36mimport[39m { promisify } [36mfrom[39m [32m'util'[39m[33m;[39m
     [90m 4 |[39m [36mimport[39m path [36mfrom[39m [32m'path'[39m[33m;[39m[0m

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)
      at Object.require (src/registry/database.ts:1:1)
      at Object.<anonymous> (tests/integration/api-server.test.ts:17:1)

FAIL tests/integration/real-payment-flow.test.ts
  â— Test suite failed to run

    Cannot find module '../utils/logger.js' from 'src/registry/database.ts'

    Require stack:
      src/registry/database.ts
      tests/integration/real-payment-flow.test.ts

    [0m[31m[1m>[22m[39m[90m 1 |[39m [36mimport[39m { logger } [36mfrom[39m [32m'../utils/logger.js'[39m[33m;[39m
     [90m   |[39m [31m[1m^[22m[39m
     [90m 2 |[39m [36mimport[39m sqlite3 [36mfrom[39m [32m'sqlite3'[39m[33m;[39m
     [90m 3 |[39m [36mimport[39m { promisify } [36mfrom[39m [32m'util'[39m[33m;[39m
     [90m 4 |[39m [36mimport[39m path [36mfrom[39m [32m'path'[39m[33m;[39m[0m

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/index.js:863:11)
      at Object.require (src/registry/database.ts:1:1)
      at Object.<anonymous> (tests/integration/real-payment-flow.test.ts:15:1)

PASS tests/integration/testnet-purchase.test.ts (13.362 s)
  â— Console

    console.log
      [dotenv@17.2.3] injecting env (9) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.warn
      âš ï¸  Skipping testnet tests: CDP credentials not configured

    [0m [90m 24 |[39m     [90m// Skip tests if credentials are not configured[39m
     [90m 25 |[39m     [36mif[39m ([33m![39mprocess[33m.[39menv[33m.[39m[33mCDP_API_KEY_NAME[39m [33m||[39m [33m![39mprocess[33m.[39menv[33m.[39m[33mCDP_API_KEY_PRIVATE_KEY[39m) {
    [31m[1m>[22m[39m[90m 26 |[39m       console[33m.[39mwarn([32m'âš ï¸  Skipping testnet tests: CDP credentials not configured'[39m)[33m;[39m
     [90m    |[39m               [31m[1m^[22m[39m
     [90m 27 |[39m       [36mreturn[39m[33m;[39m
     [90m 28 |[39m     }
     [90m 29 |[39m[0m

      at Object.<anonymous> (tests/integration/testnet-purchase.test.ts:26:15)

A worker process has failed to exit gracefully and has been force exited. This is likely caused by tests leaking due to improper teardown. Try running with --detectOpenHandles to find leaks. Active timers can also cause this, ensure that .unref() was called on them.
Jest: "global" coverage threshold for statements (80%) not met: 4.76%
Jest: "global" coverage threshold for branches (80%) not met: 4.19%
Jest: "global" coverage threshold for lines (80%) not met: 4.96%
Jest: "global" coverage threshold for functions (80%) not met: 4.13%

Test Suites: 4 failed, 11 passed, 15 total
Tests:       183 passed, 183 total
Snapshots:   0 total
Time:        25.299 s
Ran all test suites.
