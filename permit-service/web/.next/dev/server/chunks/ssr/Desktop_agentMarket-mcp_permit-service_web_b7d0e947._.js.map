{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/johnn/Desktop/agentMarket-mcp/permit-service/web/lib/store.ts"],"sourcesContent":["import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\nexport type Message = {\n  id: string\n  role: 'user' | 'assistant'\n  content: string\n  timestamp: Date\n}\n\nexport type ProgressStep = {\n  id: string\n  label: string\n  status: 'completed' | 'current' | 'pending'\n}\n\nexport type PermitData = {\n  // Property Details\n  propertyAddress?: string\n  propertyCity?: string\n  propertyZip?: string\n  parcelNumber?: string\n\n  // Contractor Info\n  contractorName?: string\n  contractorLicense?: string\n  contractorPhone?: string\n  contractorEmail?: string\n\n  // Work Description\n  workType?: string\n  workDescription?: string\n  estimatedCost?: number\n\n  // Equipment Details\n  equipmentType?: string\n  equipmentBrand?: string\n  equipmentModel?: string\n  equipmentBTU?: number\n  equipmentSEER?: number\n  equipmentTonnage?: number\n\n  // Owner Info\n  ownerName?: string\n  ownerPhone?: string\n  ownerEmail?: string\n}\n\nexport type SavedSession = {\n  sessionId: string\n  messages: Message[]\n  permitData: PermitData\n  progress: ProgressStep[]\n  currentStep: number\n  selectedTier: 1 | 2 | null\n  lastUpdated: Date\n  propertyAddress?: string // For easy identification\n}\n\ntype ChatState = {\n  // Session\n  sessionId: string | null\n  isConnected: boolean\n\n  // Messages\n  messages: Message[]\n  isLoading: boolean\n\n  // Progress\n  progress: ProgressStep[]\n  currentStep: number\n\n  // Permit Data\n  permitData: PermitData\n\n  // Selected Tier\n  selectedTier: 1 | 2 | null\n\n  // Saved Sessions (for managing multiple permits)\n  savedSessions: SavedSession[]\n\n  // Actions\n  setSessionId: (id: string) => void\n  setConnected: (connected: boolean) => void\n  addMessage: (message: Omit<Message, 'id' | 'timestamp'>) => void\n  setLoading: (loading: boolean) => void\n  updateProgress: (stepId: string, status: ProgressStep['status']) => void\n  updatePermitData: (data: Partial<PermitData>) => void\n  setTier: (tier: 1 | 2) => void\n  saveCurrentSession: () => void\n  loadSession: (sessionId: string) => void\n  deleteSession: (sessionId: string) => void\n  resetChat: () => void\n}\n\nconst initialProgress: ProgressStep[] = [\n  { id: 'property', label: 'Property Details', status: 'current' },\n  { id: 'work', label: 'Work Description', status: 'pending' },\n  { id: 'contractor', label: 'Contractor Info', status: 'pending' },\n  { id: 'equipment', label: 'Equipment Details', status: 'pending' },\n  { id: 'review', label: 'Review & Pay', status: 'pending' },\n]\n\nconst initialMessages: Message[] = [\n  {\n    id: '1',\n    role: 'assistant',\n    content: \"Hey there! I'm here to help you get your HVAC permit sorted out. This should only take about 5 minutes.\\n\\nLet's start with the basics - what's the property address where you'll be doing the work?\",\n    timestamp: new Date(),\n  },\n]\n\nexport const useChatStore = create<ChatState>()(\n  persist(\n    (set, get) => ({\n      // Initial state\n      sessionId: null,\n      isConnected: false,\n      messages: initialMessages,\n      isLoading: false,\n      progress: initialProgress,\n      currentStep: 0,\n      permitData: {},\n      selectedTier: null,\n      savedSessions: [],\n\n      // Actions\n      setSessionId: (id) => set({ sessionId: id }),\n\n      setConnected: (connected) => set({ isConnected: connected }),\n\n      addMessage: (message) =>\n        set((state) => ({\n          messages: [\n            ...state.messages,\n            {\n              ...message,\n              id: Date.now().toString() + Math.random(),\n              timestamp: new Date(),\n            },\n          ],\n        })),\n\n      setLoading: (loading) => set({ isLoading: loading }),\n\n      updateProgress: (stepId, status) =>\n        set((state) => {\n          const newProgress = state.progress.map((step) =>\n            step.id === stepId ? { ...step, status } : step\n          )\n\n          // Update current step index\n          const currentStepIndex = newProgress.findIndex(\n            (step) => step.status === 'current'\n          )\n\n          return {\n            progress: newProgress,\n            currentStep: currentStepIndex,\n          }\n        }),\n\n      updatePermitData: (data) =>\n        set((state) => ({\n          permitData: { ...state.permitData, ...data },\n        })),\n\n      setTier: (tier) => set({ selectedTier: tier }),\n\n      saveCurrentSession: () => {\n        const state = get()\n        if (!state.sessionId) return\n\n        const savedSession: SavedSession = {\n          sessionId: state.sessionId,\n          messages: state.messages,\n          permitData: state.permitData,\n          progress: state.progress,\n          currentStep: state.currentStep,\n          selectedTier: state.selectedTier,\n          lastUpdated: new Date(),\n          propertyAddress: state.permitData.propertyAddress || 'Unnamed Application',\n        }\n\n        set((s) => ({\n          savedSessions: [\n            savedSession,\n            ...s.savedSessions.filter((session) => session.sessionId !== state.sessionId),\n          ].slice(0, 10), // Keep only 10 most recent\n        }))\n      },\n\n      loadSession: (sessionId) => {\n        const state = get()\n        const session = state.savedSessions.find((s) => s.sessionId === sessionId)\n\n        if (session) {\n          set({\n            sessionId: session.sessionId,\n            messages: session.messages,\n            permitData: session.permitData,\n            progress: session.progress,\n            currentStep: session.currentStep,\n            selectedTier: session.selectedTier,\n          })\n        }\n      },\n\n      deleteSession: (sessionId) => {\n        set((state) => ({\n          savedSessions: state.savedSessions.filter((s) => s.sessionId !== sessionId),\n        }))\n      },\n\n      resetChat: () =>\n        set({\n          sessionId: null,\n          isConnected: false,\n          messages: initialMessages,\n          isLoading: false,\n          progress: initialProgress,\n          currentStep: 0,\n          permitData: {},\n          selectedTier: null,\n        }),\n    }),\n    {\n      name: 'chat-storage',\n      // Persist everything so contractors can resume their work\n      partialize: (state) => ({\n        sessionId: state.sessionId,\n        messages: state.messages,\n        permitData: state.permitData,\n        selectedTier: state.selectedTier,\n        progress: state.progress,\n        currentStep: state.currentStep,\n        savedSessions: state.savedSessions,\n      }),\n    }\n  )\n)\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/johnn/Desktop/agentMarket-mcp/permit-service/web/lib/api.ts"],"sourcesContent":["import { PermitData } from './store'\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3010/api/v1'\n\nexport type ChatMessage = {\n  role: 'user' | 'assistant'\n  content: string\n}\n\nexport type ChatResponse = {\n  aiResponse: string  // Backend sends \"aiResponse\"\n  sessionId: string\n  isComplete: boolean\n  extractedData?: Partial<PermitData>\n  conversationState: string\n  missingFields: string[]\n  dataSummary: any\n}\n\nexport type PaymentIntentResponse = {\n  clientSecret: string\n  amountCents: number\n}\n\nexport type PackageResponse = {\n  token: string\n  expiresAt: string\n  previewUrl: string\n}\n\nexport type AccelaSubmissionResponse = {\n  success: boolean\n  recordId?: string\n  message: string\n}\n\n/**\n * Start or continue a chat session\n */\nexport async function sendChatMessage(\n  message: string,\n  sessionId?: string\n): Promise<ChatResponse> {\n  const response = await fetch(`${API_BASE_URL}/chat/message`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      message,\n      sessionId,\n    }),\n  })\n\n  if (!response.ok) {\n    throw new Error(`Chat request failed: ${response.statusText}`)\n  }\n\n  return response.json()\n}\n\n/**\n * Create a Stripe payment intent\n */\nexport async function createPaymentIntent(\n  tier: 1 | 2,\n  sessionId: string\n): Promise<PaymentIntentResponse> {\n  const response = await fetch(`${API_BASE_URL}/payments/create-intent`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      tier: `tier${tier}`, // Convert 1 → \"tier1\", 2 → \"tier2\"\n      sessionId,\n    }),\n  })\n\n  if (!response.ok) {\n    throw new Error(`Payment intent creation failed: ${response.statusText}`)\n  }\n\n  return response.json()\n}\n\n/**\n * Confirm payment completion (called after Stripe confirmPayment succeeds)\n */\nexport async function confirmPayment(\n  sessionId: string,\n  paymentIntentId: string,\n  tier: 1 | 2\n): Promise<{ success: boolean; sessionStatus: string }> {\n  const response = await fetch(`${API_BASE_URL}/payments/confirm`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      sessionId,\n      paymentIntentId,\n      tier: `tier${tier}`, // Convert 1 → \"tier1\", 2 → \"tier2\"\n    }),\n  })\n\n  if (!response.ok) {\n    throw new Error(`Payment confirmation failed: ${response.statusText}`)\n  }\n\n  return response.json()\n}\n\n/**\n * Check payment status for a session\n */\nexport async function checkPaymentStatus(\n  sessionId: string\n): Promise<{ sessionStatus: string; isPaid: boolean; hasSubmission: boolean; hasPdfPackage: boolean }> {\n  const response = await fetch(`${API_BASE_URL}/payments/status/${sessionId}`)\n\n  if (!response.ok) {\n    throw new Error(`Payment status check failed: ${response.statusText}`)\n  }\n\n  return response.json()\n}\n\n/**\n * Generate permit package (after payment)\n */\nexport async function generatePackage(\n  sessionId: string,\n  tier: 1 | 2\n): Promise<PackageResponse> {\n  const response = await fetch(`${API_BASE_URL}/generate-package`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      sessionId,\n      tier: `tier${tier}`, // Convert 1 → \"tier1\", 2 → \"tier2\"\n    }),\n  })\n\n  if (!response.ok) {\n    const errorData = await response.json()\n    const error: any = new Error(errorData.message || `Package generation failed: ${response.statusText}`)\n    error.missingFields = errorData.missingFields || []\n    error.details = errorData.details\n    throw error\n  }\n\n  return response.json()\n}\n\n/**\n * Submit to Accela (Tier 2 only, after approval)\n */\nexport async function submitToAccela(\n  token: string\n): Promise<AccelaSubmissionResponse> {\n  const response = await fetch(`${API_BASE_URL}/submit-to-accela`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      token,\n    }),\n  })\n\n  if (!response.ok) {\n    throw new Error(`Accela submission failed: ${response.statusText}`)\n  }\n\n  return response.json()\n}\n\n/**\n * Health check\n */\nexport async function checkHealth(): Promise<{ status: string }> {\n  const response = await fetch(`${API_BASE_URL}/health`)\n\n  if (!response.ok) {\n    throw new Error('Health check failed')\n  }\n\n  return response.json()\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/johnn/Desktop/agentMarket-mcp/permit-service/web/app/review/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport Link from 'next/link'\nimport { useRouter } from 'next/navigation'\nimport { useUser } from '@clerk/nextjs'\nimport { useChatStore } from '@/lib/store'\nimport { createPaymentIntent, confirmPayment } from '@/lib/api'\nimport { loadStripe } from '@stripe/stripe-js'\nimport { Elements, PaymentElement, useStripe, useElements } from '@stripe/react-stripe-js'\n\n// Initialize Stripe\nconst stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY || '')\n\n// Payment Form Component using Stripe Elements\nfunction CheckoutForm({\n  sessionId,\n  paymentIntentId,\n  tier,\n  onSuccess,\n  onError\n}: {\n  sessionId: string\n  paymentIntentId: string\n  tier: 1 | 2\n  onSuccess: () => void\n  onError: (error: string) => void\n}) {\n  const stripe = useStripe()\n  const elements = useElements()\n  const [isProcessing, setIsProcessing] = useState(false)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!stripe || !elements) {\n      return\n    }\n\n    setIsProcessing(true)\n\n    try {\n      // Step 1: Confirm payment with Stripe\n      const { error, paymentIntent } = await stripe.confirmPayment({\n        elements,\n        confirmParams: {\n          return_url: `${window.location.origin}/success`,\n        },\n        redirect: 'if_required',\n      })\n\n      if (error) {\n        onError(error.message || 'Payment failed')\n        return\n      }\n\n      // Step 2: Confirm payment with our backend to update session status\n      try {\n        await confirmPayment(sessionId, paymentIntent?.id || paymentIntentId, tier)\n      } catch (confirmError: any) {\n        console.error('Payment confirmation error:', confirmError)\n        onError('Payment succeeded but confirmation failed. Please contact support.')\n        return\n      }\n\n      // Step 3: Payment confirmed, proceed to success page\n      onSuccess()\n    } catch (err: any) {\n      onError(err.message || 'Payment failed')\n    } finally {\n      setIsProcessing(false)\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <PaymentElement />\n      <button\n        type=\"submit\"\n        disabled={!stripe || isProcessing}\n        className=\"w-full btn btn-primary text-lg py-4 disabled:opacity-50 disabled:cursor-not-allowed\"\n      >\n        {isProcessing ? (\n          <span className=\"flex items-center justify-center gap-2\">\n            <svg className=\"animate-spin h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n              <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n            Processing Payment...\n          </span>\n        ) : (\n          `Complete Payment`\n        )}\n      </button>\n    </form>\n  )\n}\n\nexport default function ReviewPage() {\n  const router = useRouter()\n  const { isSignedIn } = useUser()\n  const { sessionId, permitData, selectedTier, setTier } = useChatStore()\n  const [isProcessing, setIsProcessing] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [showTier2Warning, setShowTier2Warning] = useState(false)\n  const [clientSecret, setClientSecret] = useState<string | null>(null)\n  const [paymentIntentId, setPaymentIntentId] = useState<string | null>(null)\n  const [showPaymentForm, setShowPaymentForm] = useState(false)\n  const [alreadyPaid, setAlreadyPaid] = useState(false)\n  const [checkingPayment, setCheckingPayment] = useState(true)\n\n  // Check payment status on load\n  useEffect(() => {\n    if (!sessionId) {\n      router.push('/chat')\n      return\n    }\n\n    const checkStatus = async () => {\n      try {\n        const { checkPaymentStatus } = await import('@/lib/api')\n        const status = await checkPaymentStatus(sessionId)\n\n        if (status.isPaid) {\n          setAlreadyPaid(true)\n        }\n      } catch (err) {\n        console.error('Failed to check payment status:', err)\n      } finally {\n        setCheckingPayment(false)\n      }\n    }\n\n    checkStatus()\n  }, [sessionId, router])\n\n  const handleTierSelect = (tier: 1 | 2) => {\n    // Tier 2 requires authentication for Accela submission\n    if (tier === 2 && !isSignedIn) {\n      setShowTier2Warning(true)\n      setError('Sign in required for Tier 2: We need your Accela API credentials to auto-submit on your behalf.')\n      return\n    }\n    setShowTier2Warning(false)\n    setError(null)\n    setTier(tier)\n  }\n\n  const handlePayment = async () => {\n    if (!selectedTier || !sessionId) {\n      setError('Please select a tier')\n      return\n    }\n\n    // If already paid, skip payment and go to package generation\n    if (alreadyPaid) {\n      router.push('/success')\n      return\n    }\n\n    setIsProcessing(true)\n    setError(null)\n\n    try {\n      // Create payment intent\n      const response = await createPaymentIntent(selectedTier, sessionId)\n\n      // Store client secret and payment intent ID\n      setClientSecret(response.clientSecret)\n      setPaymentIntentId(response.paymentIntentId)\n      setShowPaymentForm(true)\n    } catch (err: any) {\n      console.error('Payment error:', err)\n      setError(err.message || 'Payment failed. Please try again.')\n    } finally {\n      setIsProcessing(false)\n    }\n  }\n\n  const handlePaymentSuccess = () => {\n    router.push('/success')\n  }\n\n  const handlePaymentError = (errorMessage: string) => {\n    setError(errorMessage)\n    setShowPaymentForm(false)\n  }\n\n  if (!sessionId) {\n    return null\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center gap-3\">\n            <Link href=\"/chat\" className=\"text-navy-600 hover:text-navy-800\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\n              </svg>\n            </Link>\n            <div>\n              <h1 className=\"text-lg font-bold text-navy-900\">Review & Select Service</h1>\n              <p className=\"text-sm text-gray-600\">Almost done! Review your info and choose your tier</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"container mx-auto px-4 py-8\">\n        <div className=\"max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* Left: Application Summary */}\n          <div>\n            <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n              <h2 className=\"text-xl font-bold text-navy-900 mb-4\">Application Summary</h2>\n\n              {/* Property Details */}\n              <div className=\"mb-6\">\n                <h3 className=\"font-semibold text-navy-700 mb-2 flex items-center gap-2\">\n                  <svg className=\"w-5 h-5 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  </svg>\n                  Property Details\n                </h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Address:</span>\n                    <span className=\"font-medium text-navy-900\">{permitData.propertyAddress || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">City:</span>\n                    <span className=\"font-medium text-navy-900\">{permitData.propertyCity || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">ZIP:</span>\n                    <span className=\"font-medium text-navy-900\">{permitData.propertyZip || 'N/A'}</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Contractor Info */}\n              <div className=\"mb-6\">\n                <h3 className=\"font-semibold text-navy-700 mb-2 flex items-center gap-2\">\n                  <svg className=\"w-5 h-5 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n                  </svg>\n                  Contractor Information\n                </h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Name:</span>\n                    <span className=\"font-medium text-navy-900\">{permitData.contractorName || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">License:</span>\n                    <span className=\"font-medium text-navy-900\">{permitData.contractorLicense || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Phone:</span>\n                    <span className=\"font-medium text-navy-900\">{permitData.contractorPhone || 'N/A'}</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Equipment Details */}\n              <div>\n                <h3 className=\"font-semibold text-navy-700 mb-2 flex items-center gap-2\">\n                  <svg className=\"w-5 h-5 text-orange-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z\" />\n                  </svg>\n                  Equipment Details\n                </h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Type:</span>\n                    <span className=\"font-medium text-navy-900\">{permitData.equipmentType || 'N/A'}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Brand/Model:</span>\n                    <span className=\"font-medium text-navy-900\">\n                      {permitData.equipmentBrand || 'N/A'} {permitData.equipmentModel || ''}\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">BTU/Tonnage:</span>\n                    <span className=\"font-medium text-navy-900\">\n                      {permitData.equipmentBTU || permitData.equipmentTonnage || 'N/A'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <button\n              onClick={() => router.push('/chat')}\n              className=\"w-full btn btn-secondary\"\n            >\n              ← Back to Edit Information\n            </button>\n          </div>\n\n          {/* Right: Tier Selection & Payment */}\n          <div>\n            <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n              <h2 className=\"text-xl font-bold text-navy-900 mb-4\">Choose Your Service</h2>\n\n              {/* Tier 1 */}\n              <div\n                className={`border-2 rounded-lg p-6 mb-4 cursor-pointer transition-all ${\n                  selectedTier === 1\n                    ? 'border-orange-600 bg-orange-50'\n                    : 'border-gray-200 hover:border-orange-300'\n                }`}\n                onClick={() => handleTierSelect(1)}\n              >\n                <div className=\"flex items-start justify-between mb-3\">\n                  <div>\n                    <h3 className=\"text-lg font-bold text-navy-900\">Tier 1: PDF Package</h3>\n                    <p className=\"text-sm text-gray-600\">Download and submit yourself</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-2xl font-bold text-orange-600\">$30</div>\n                    <div className=\"text-xs text-gray-500\">+ permit fees</div>\n                  </div>\n                </div>\n                <ul className=\"space-y-2 text-sm text-gray-700 mb-4\">\n                  <li className=\"flex items-start gap-2\">\n                    <svg className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                    Pre-filled FEMA 301, 301A forms\n                  </li>\n                  <li className=\"flex items-start gap-2\">\n                    <svg className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                    Tampa/Hillsborough branding\n                  </li>\n                  <li className=\"flex items-start gap-2\">\n                    <svg className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                    Download immediately\n                  </li>\n                  <li className=\"flex items-start gap-2\">\n                    <svg className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                    You submit to Accela yourself\n                  </li>\n                </ul>\n                {selectedTier === 1 && (\n                  <div className=\"text-sm text-orange-600 font-semibold\">✓ Selected</div>\n                )}\n              </div>\n\n              {/* Tier 2 */}\n              <div\n                className={`border-2 rounded-lg p-6 cursor-pointer transition-all ${\n                  selectedTier === 2\n                    ? 'border-orange-600 bg-orange-50'\n                    : 'border-gray-200 hover:border-orange-300'\n                }`}\n                onClick={() => handleTierSelect(2)}\n              >\n                <div className=\"flex items-start justify-between mb-3\">\n                  <div>\n                    <h3 className=\"text-lg font-bold text-navy-900\">Tier 2: Full Service</h3>\n                    <p className=\"text-sm text-gray-600\">We submit to Accela for you</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-2xl font-bold text-orange-600\">$150</div>\n                    <div className=\"text-xs text-gray-500\">+ permit fees</div>\n                  </div>\n                </div>\n                <ul className=\"space-y-2 text-sm text-gray-700 mb-4\">\n                  <li className=\"flex items-start gap-2\">\n                    <svg className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                    Everything in Tier 1\n                  </li>\n                  <li className=\"flex items-start gap-2\">\n                    <svg className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                    24-hour review period\n                  </li>\n                  <li className=\"flex items-start gap-2\">\n                    <svg className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                    <strong>We submit to Accela for you</strong>\n                  </li>\n                  <li className=\"flex items-start gap-2\">\n                    <svg className=\"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                    Get Accela record ID\n                  </li>\n                </ul>\n                {selectedTier === 2 && (\n                  <div className=\"text-sm text-orange-600 font-semibold\">✓ Selected</div>\n                )}\n              </div>\n            </div>\n\n            {/* Tier 2 Auth Warning */}\n            {showTier2Warning && (\n              <div className=\"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                <div className=\"flex items-start gap-3 mb-3\">\n                  <svg className=\"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-semibold text-navy-900 mb-1\">Sign In Required for Tier 2</h4>\n                    <p className=\"text-sm text-gray-700 mb-3\">\n                      To auto-submit permits to Accela, we need to securely store your Accela API credentials.\n                      This requires creating a free account.\n                    </p>\n                    <Link\n                      href={`/sign-in?redirect_url=${encodeURIComponent('/review')}`}\n                      className=\"inline-block px-4 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors\"\n                    >\n                      Sign In to Continue →\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Payment Already Completed Banner */}\n            {alreadyPaid && (\n              <div className=\"mb-4 p-4 bg-green-50 border-2 border-green-500 rounded-lg\">\n                <div className=\"flex items-center gap-3\">\n                  <svg className=\"w-6 h-6 text-green-600 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div>\n                    <h4 className=\"font-semibold text-green-900\">Payment Completed</h4>\n                    <p className=\"text-sm text-green-700\">Your payment has been processed. Click below to generate your permit package.</p>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Other Errors */}\n            {error && !showTier2Warning && (\n              <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700\">\n                {error}\n              </div>\n            )}\n\n            <button\n              onClick={handlePayment}\n              disabled={!selectedTier || isProcessing || checkingPayment}\n              className=\"w-full btn btn-primary text-lg py-4 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {checkingPayment ? (\n                'Checking payment status...'\n              ) : isProcessing ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <svg className=\"animate-spin h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Processing...\n                </span>\n              ) : alreadyPaid ? (\n                '✓ Generate Package (No Payment Required)'\n              ) : selectedTier ? (\n                `Pay $${selectedTier === 1 ? '30' : '150'} & Continue`\n              ) : (\n                'Select a Tier First'\n              )}\n            </button>\n\n            {/* Trust Signals */}\n            <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\n              <div className=\"flex items-center gap-2 text-sm text-navy-900 mb-2\">\n                <svg className=\"w-5 h-5 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n                </svg>\n                <span className=\"font-semibold\">Secure Payment</span>\n              </div>\n              <p className=\"text-xs text-gray-600\">\n                Powered by Stripe. Your payment information is encrypted and secure. We never store your card details.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Payment Modal - Enhanced Design */}\n      {showPaymentForm && clientSecret && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn\">\n          <div className=\"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden animate-slideUp flex flex-col\">\n            {/* Header - Fixed */}\n            <div className=\"bg-gradient-to-r from-orange-500 to-orange-600 p-6 text-white flex-shrink-0\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h2 className=\"text-2xl font-bold\">Secure Checkout</h2>\n                <button\n                  onClick={() => setShowPaymentForm(false)}\n                  className=\"text-white/80 hover:text-white transition-colors\"\n                >\n                  <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n              <p className=\"text-orange-100 text-sm\">Complete your permit application purchase</p>\n            </div>\n\n            {/* Content - Scrollable */}\n            <div className=\"p-6 overflow-y-auto flex-1\">\n              {/* Order Summary */}\n              <div className=\"mb-6 p-4 bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl border border-orange-200\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div>\n                    <div className=\"text-sm text-orange-700 font-medium mb-1\">\n                      {selectedTier === 1 ? 'Tier 1: PDF Package' : 'Tier 2: Full Service'}\n                    </div>\n                    <div className=\"text-xs text-orange-600\">\n                      {selectedTier === 1 ? 'Download and submit yourself' : 'We submit to Accela for you'}\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-3xl font-bold text-orange-600\">\n                      ${selectedTier === 1 ? '30' : '150'}\n                    </div>\n                    <div className=\"text-xs text-orange-500\">one-time fee</div>\n                  </div>\n                </div>\n                <div className=\"pt-3 border-t border-orange-200\">\n                  <div className=\"flex items-center gap-2 text-xs text-orange-700\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                    <span>Includes HVAC permit forms for Tampa Bay area</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Error Message */}\n              {error && (\n                <div className=\"mb-4 p-4 bg-red-50 border-l-4 border-red-500 rounded-lg\">\n                  <div className=\"flex items-start gap-3\">\n                    <svg className=\"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                    <div>\n                      <div className=\"font-semibold text-red-900 text-sm mb-1\">Payment Failed</div>\n                      <div className=\"text-sm text-red-700\">{error}</div>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Payment Form Label */}\n              <div className=\"mb-3\">\n                <label className=\"block text-sm font-semibold text-navy-900 mb-2\">\n                  Payment Information\n                </label>\n                <p className=\"text-xs text-gray-600 mb-3\">\n                  Enter your card details to complete the purchase\n                </p>\n              </div>\n\n              {/* Stripe Elements */}\n              <div className=\"mb-4\">\n                <Elements\n                  stripe={stripePromise}\n                  options={{\n                    clientSecret,\n                    appearance: {\n                      theme: 'stripe',\n                      variables: {\n                        colorPrimary: '#ea580c',\n                        colorBackground: '#ffffff',\n                        colorText: '#1e293b',\n                        colorDanger: '#ef4444',\n                        fontFamily: 'system-ui, sans-serif',\n                        spacingUnit: '4px',\n                        borderRadius: '8px',\n                        fontSizeBase: '15px',\n                      },\n                      rules: {\n                        '.Input': {\n                          border: '1.5px solid #e2e8f0',\n                          boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)',\n                        },\n                        '.Input:focus': {\n                          border: '1.5px solid #ea580c',\n                          boxShadow: '0 0 0 3px rgba(234, 88, 12, 0.1)',\n                        },\n                        '.Label': {\n                          fontWeight: '600',\n                          fontSize: '14px',\n                          marginBottom: '6px',\n                        },\n                      },\n                    },\n                  }}\n                >\n                  <CheckoutForm\n                    sessionId={sessionId!}\n                    paymentIntentId={paymentIntentId!}\n                    tier={selectedTier!}\n                    onSuccess={handlePaymentSuccess}\n                    onError={handlePaymentError}\n                  />\n                </Elements>\n              </div>\n\n              {/* Security Badges */}\n              <div className=\"flex items-center justify-center gap-4 pt-4 border-t border-gray-200\">\n                <div className=\"flex items-center gap-2 text-xs text-gray-600\">\n                  <svg className=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n                  </svg>\n                  <span className=\"font-medium\">256-bit SSL</span>\n                </div>\n                <div className=\"flex items-center gap-2 text-xs text-gray-600\">\n                  <svg className=\"w-5 h-5 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                  </svg>\n                  <span className=\"font-medium\">PCI Compliant</span>\n                </div>\n                <div className=\"flex items-center gap-1 text-xs text-gray-600\">\n                  <span className=\"font-semibold\">Powered by</span>\n                  <span className=\"text-[#635bff] font-bold\">Stripe</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}